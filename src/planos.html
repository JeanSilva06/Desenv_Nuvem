<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbearia - Planos</title>
    <link rel="stylesheet" href="style.css"> 
    <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>
    <link rel="shortcut icon" href="./bigode.png" type="image/x-icon">
</head>

<body>
    <header>
        <nav class="navbar">
            <img src="" alt="">
            <a href="../index.html">INICIO</a>
            <a href="./agendamentos.html">AGENDAMENTOS</a>
            <a href="./planos.html">PLANOS</a>
            <a href="./login.html">LOGIN</a>    
        </nav>
    </header>
    <main class="container" style="margin: 100px 0 0 600px;">
        <section class="container__label">
            <form id="subscription-form">
              <form id="subscription-form">
            
                <label for="username">Usuário:</label>
                <input type="text" id="username" name="username" required>
            
                <label for="password">Senha:</label>
                <input type="password" id="password" name="password" required>
            
                <label for="cpf">CPF:</label>
                <input type="text" id="cpf" name="cpf" required maxlength="14" placeholder="000.000.000-00" oninput="formatCPF(this)">
            
                <label for="email">E-mail:</label>
                <input type="email" id="email" name="email" required>
            
                <fieldset>
                    <legend>Escolha seu plano:</legend>
                    <label>
                        <input type="radio" id="plano" name="plano" value="basico" required>
                        Básico - 160,00 mensal
                    </label>
                    <label>
                        <input type="radio" id="plano" name="plano" value="premium" required>
                        Premium - 240,00 mensal
                    </label>
                </fieldset>
            
                <button type="submit" id="createButton">Enviar</button>
            </form>
    
            </section>
            
    </main>



    <div class="container__service">
        <div class="container__plano"><h1>Planos</h1></div>
<div class="container__box">

<div class="container__boxs">

    <h1>Básico</h1>
    <p>O Plano Básico inclui até 3 cortes de cabelo e barba por mês. 
        Ideal para quem deseja manter o visual em dia com atendimentos regulares e práticos.</p></div>
<div class="container__boxs">
    <h1>Premium</h1>
<p>O O Plano Premium oferece cortes de cabelo e barba ilimitados durante o mês. Perfeito para 
    quem busca flexibilidade e um cuidado contínuo, garantindo sempre um visual impecável.</p></div>
</div>
</div>

<script src="./script.js"></script>

<script>
// Initialize Parse
Parse.initialize("mnWzIi0uEOIUA8w4fNJM80GjUsMVToB0qny846I1", "nosYrvPdnTLShTPcB1ak03YvmrYfAxJxMUM5iD3T"); //PASTE HERE YOUR Back4App APPLICATION ID AND YOUR JavaScript KEY
Parse.serverURL = "https://parseapi.back4app.com/";

async function saveNewUser() {


    //isto que estou fazendo agora é horrivel, não me copiem, isto é uma medida desesperada

    const username = document.getElementById('username').value;
    const senha = document.getElementById('password').value;
    const cpf = document.getElementById('cpf').value;
    const email = document.getElementById('email').value;


    const player = new Parse.Object('Barbearia');
    player.set('Usuario', username );
    player.set('Senha', senha );
    player.set('Cpf', cpf );
    player.set('Email', email);
    
    try {
        // Salva o objeto no Parse Server
        const result = await player.save();
        console.log('Novo objeto criado com ID:', result.id);
        alert('Usuário cadastrado com sucesso!');
    } catch (error) {
        console.error('Falha ao salvar o objeto:', error.message);
        alert('Erro ao cadastrar usuário: ' + error.message);
    }
}

document.getElementById("createButton").addEventListener("click", async function (event) {
    event.preventDefault(); // Previne o envio padrão do formulário
    await saveNewUser();
});
</script>


</body>
</html>